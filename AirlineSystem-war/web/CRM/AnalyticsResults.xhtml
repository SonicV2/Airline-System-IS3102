<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <h:outputStylesheet library ="css"  name="bootstrap.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"/>
        <h:outputStylesheet library="css" name="admindb.css" />
        <h:outputStylesheet library="css" name="morrisjs/morris.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Analytics Results</title>
        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
        <script type="text/javascript">
            google.load("visualization", "1", {packages: ["corechart"]});
            google.setOnLoadCallback(drawChart);
            function drawChart() {
                var size =#{cRMAnalyticsManagedBean.csList.size()};


            #{cRMAnalyticsManagedBean.histogramArray}


                var dataDraw = google.visualization.arrayToDataTable(results);
                var options = {
                    title: 'Customer Scores',
                    legend: {position: 'none'},
                    histogram: {lastBucketPercentile: 5}
                };
                var chart = new google.visualization.Histogram(document.getElementById('chart_div'));
                chart.draw(dataDraw, options);
            }
        </script>
    </h:head>
    <h:body>
        <ui:include src="/CI/DashboardHeader.xhtml"/>
        <!--    To add the same sidebar on all dashboard pages  -->
        <ui:include src="/CI/DashboardSidebar.xhtml"/>
        <div id="page-wrapper">

            <div class="row">
                <div class="col-lg-12">
                    <h2 class="page-header">#{cRMAnalyticsManagedBean.type} Analytics Results </h2>
                </div>

                <h:outputLabel class="col-md-4 control-label" value="#{cRMAnalyticsManagedBean.type}" />

                <div id="chart_div" style="width: 900px; height: 500px;"></div>

                <br/>
                <div class="col-lg-12">
                Description:
                <p>#{cRMAnalyticsManagedBean.description} </p>
                <br/>
                <br/>
                <br/>
                <h:outputLabel class="col-md-4 control-label" value="Mean" />
                <h:outputLabel class="col-md-4 control-label" value="#{cRMAnalyticsManagedBean.mean}" />
                <br/>
                <br/>
                <h:outputLabel class="col-md-4 control-label" value="Median" />
                <h:outputLabel class="col-md-4 control-label" value="#{cRMAnalyticsManagedBean.median}" />
                <br/>
                <br/>
                <h:outputLabel class="col-md-4 control-label" value="Mode" />
                <h:outputLabel class="col-md-4 control-label" value="#{cRMAnalyticsManagedBean.mode}" />
            </div>
            </div>
        </div>
    </h:body>
</html>